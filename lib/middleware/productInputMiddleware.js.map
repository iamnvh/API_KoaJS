{"version":3,"file":"productInputMiddleware.js","names":["productInputMiddleware","ctx","next","postData","request","body","schema","yup","object","shape","name","string","required","description","product","color","createdAt","date","image","validate","e","status","success","errors","errorName"],"sources":["../../src/middleware/productInputMiddleware.js"],"sourcesContent":["import * as yup from 'yup';\r\n\r\nexport default async function productInputMiddleware(ctx, next) {\r\n  try {\r\n    const postData = ctx.request.body;\r\n    let schema = yup.object().shape({\r\n      name: yup.string().required(),\r\n      description: yup.string().required(),\r\n      product: yup.string().required(),\r\n      color: yup.string().required(),\r\n      createdAt: yup.date().required(),\r\n      image: yup.string().required(),\r\n    });\r\n\r\n    await schema.validate(postData);\r\n    next();\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      errors: e.errors,\r\n      errorName: e.name\r\n    }\r\n  }\r\n\r\n}"],"mappings":";;;;;;;AAAA;;;;;;AAEe,eAAeA,sBAAf,CAAsCC,GAAtC,EAA2CC,IAA3C,EAAiD;EAC9D,IAAI;IACF,MAAMC,QAAQ,GAAGF,GAAG,CAACG,OAAJ,CAAYC,IAA7B;IACA,IAAIC,MAAM,GAAGC,GAAG,CAACC,MAAJ,GAAaC,KAAb,CAAmB;MAC9BC,IAAI,EAAEH,GAAG,CAACI,MAAJ,GAAaC,QAAb,EADwB;MAE9BC,WAAW,EAAEN,GAAG,CAACI,MAAJ,GAAaC,QAAb,EAFiB;MAG9BE,OAAO,EAAEP,GAAG,CAACI,MAAJ,GAAaC,QAAb,EAHqB;MAI9BG,KAAK,EAAER,GAAG,CAACI,MAAJ,GAAaC,QAAb,EAJuB;MAK9BI,SAAS,EAAET,GAAG,CAACU,IAAJ,GAAWL,QAAX,EALmB;MAM9BM,KAAK,EAAEX,GAAG,CAACI,MAAJ,GAAaC,QAAb;IANuB,CAAnB,CAAb;IASA,MAAMN,MAAM,CAACa,QAAP,CAAgBhB,QAAhB,CAAN;IACAD,IAAI;EACL,CAbD,CAaE,OAAOkB,CAAP,EAAU;IACVnB,GAAG,CAACoB,MAAJ,GAAa,GAAb;IACApB,GAAG,CAACI,IAAJ,GAAW;MACTiB,OAAO,EAAE,KADA;MAETC,MAAM,EAAEH,CAAC,CAACG,MAFD;MAGTC,SAAS,EAAEJ,CAAC,CAACV;IAHJ,CAAX;EAKD;AAEF"}